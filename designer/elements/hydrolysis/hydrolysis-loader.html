<link rel="import" href="../../vendor/hydrolysis.html">

<script>
define(['hydrolysis'], (hydrolysis) => {
  'use strict';

  Polymer({
    is: 'hydrolysis-loader',

    properties: {
      host: String,
      instance: {
        type: Object,
        value() { return new hydrolysis.Loader(); },
      }
    },

    listeners: {
      'hydrolysis-resolver-ready': '_onHydrolysisResolverReady',
    },

    attached() {
      this.fire('hydrolysis-loader-ready');
    },

    _onHydrolysisResolverReady(e) {
      this.instance.addResolver(e.target.instance);
      e.stopPropagation();
    },

  });
});
</script>
